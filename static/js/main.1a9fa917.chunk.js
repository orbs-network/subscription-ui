(this["webpackJsonpsubscription-ui"]=this["webpackJsonpsubscription-ui"]||[]).push([[0],{307:function(e,t,n){e.exports=n.p+"static/media/logo-white.e59b3ac9.svg"},327:function(e,t,n){e.exports=n(672)},332:function(e,t,n){},345:function(e,t){},354:function(e,t){},371:function(e,t){},373:function(e,t){},389:function(e,t){},390:function(e,t){},392:function(e,t){},393:function(e,t){},470:function(e,t){},472:function(e,t){},481:function(e,t){},483:function(e,t){},508:function(e,t){},510:function(e,t){},516:function(e,t){},517:function(e,t){},520:function(e,t){},536:function(e,t){},539:function(e,t){},544:function(e,t){},555:function(e,t){},558:function(e,t){},669:function(e,t,n){},672:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(20),c=n.n(o);n(332),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var i,l,s,u,p,d,m,b,h,f,v,g,y,O,E,S,C,w,x,j,k,P,A,I,T,L,M,R=n(8),W=n(7),D=n.n(W),N=n(22),B=n(38),F=n(11),_=n(13),V=n(24),U=(n(207),i=Object(R.action)("setWalletConnectionRequestApproved"),l=Object(R.action)("setMainAddress"),s=function(){function e(t){var n=this;Object(F.a)(this,e),this.cryptoWalletConnectionService=t,Object(B.a)(this,"walletConnectionRequestApproved",u,this),Object(B.a)(this,"hasEthereumProvider",p,this),Object(B.a)(this,"hasEventsSupport",d,this),Object(B.a)(this,"mainAddress",m,this),this.addressCheckingInterval=void 0,this.reactionToWalletConnection=void 0,this.hasEthereumProvider=t.hasEthereumProvider,this.hasEventsSupport=t.hasEventsSupport,this.reactionToWalletConnection=Object(R.reaction)((function(){return n.isConnectedToWallet}),function(){var e=Object(N.a)(D.a.mark((function e(t){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t&&n.readInformationFromConnectedWallet();case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),{fireImmediately:!0}),this.hasEthereumProvider&&(this.cryptoWalletConnectionService.hasEventsSupport?this.cryptoWalletConnectionService.onMainAddressChange((function(e){return n.setMainAddress(e)})):(this.cryptoWalletConnectionService.readMainAddress().then((function(e){return n.setMainAddress(e)})),this.addressCheckingInterval=setInterval((function(){return n.cryptoWalletConnectionService.readMainAddress().then((function(e){return n.setMainAddress(e)}))}),1e3)))}return Object(_.a)(e,[{key:"askToConnect",value:function(){var e=Object(N.a)(D.a.mark((function e(){var t;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isConnectedToWallet){e.next=4;break}return e.abrupt("return",!0);case 4:return e.next=6,this.cryptoWalletConnectionService.requestConnectionPermission();case 6:return t=e.sent,this.setWalletConnectionRequestApproved(t),e.abrupt("return",this.walletConnectionRequestApproved);case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"readInformationFromConnectedWallet",value:function(){var e=Object(N.a)(D.a.mark((function e(){var t;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.cryptoWalletConnectionService.readMainAddress();case 2:t=e.sent,this.setMainAddress(t);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setWalletConnectionRequestApproved",value:function(e){this.walletConnectionRequestApproved=e}},{key:"setMainAddress",value:function(e){this.mainAddress=e}},{key:"isConnectedToWallet",get:function(){return this.hasEthereumProvider&&(this.cryptoWalletConnectionService.didUserApproveDappInThePast||this.walletConnectionRequestApproved)}}]),e}(),u=Object(V.a)(s.prototype,"walletConnectionRequestApproved",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),p=Object(V.a)(s.prototype,"hasEthereumProvider",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=Object(V.a)(s.prototype,"hasEventsSupport",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=Object(V.a)(s.prototype,"mainAddress",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Object(V.a)(s.prototype,"isConnectedToWallet",[R.computed],Object.getOwnPropertyDescriptor(s.prototype,"isConnectedToWallet"),s.prototype),Object(V.a)(s.prototype,"setWalletConnectionRequestApproved",[i],Object.getOwnPropertyDescriptor(s.prototype,"setWalletConnectionRequestApproved"),s.prototype),Object(V.a)(s.prototype,"setMainAddress",[l],Object.getOwnPropertyDescriptor(s.prototype,"setMainAddress"),s.prototype),s),z={userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200},H=n(67),q=n.n(H);function K(e){return BigInt(q.a.utils.toWei(e.toString(),"ether"))}var Y=(b=Object(R.action)("setContractParametersDoneLoading"),h=Object(R.action)("setContractParametersErrorLoading"),f=Object(R.action)("setDoneLoading"),v=Object(R.action)("setErrorLoading"),g=Object(R.action)("setTxPending"),y=Object(R.action)("setTxCanceled"),O=Object(R.action)("setTxHadError"),E=Object(R.action)("setMSPContractAllowance"),S=Object(R.action)("setMspContractParameters"),C=function(){function e(t,n,a,r){var o=this;Object(F.a)(this,e),this.cryptoWalletIntegrationStore=t,this.orbsTokenService=n,this.monthlySubscriptionPlanService=a,this.subscriptionsService=r,Object(B.a)(this,"contractParametersDoneLoading",w,this),Object(B.a)(this,"contractParametersErrorLoading",x,this),Object(B.a)(this,"doneLoading",j,this),Object(B.a)(this,"errorLoading",k,this),Object(B.a)(this,"txPending",P,this),Object(B.a)(this,"txHadError",A,this),Object(B.a)(this,"txCanceled",I,this),Object(B.a)(this,"isGuardian",T,this),Object(B.a)(this,"mspContractParameters",L,this),Object(B.a)(this,"allowanceToMSPContract",M,this),this.addressChangeReaction=void 0,this.readContractParameters().then((function(){return console.log("MSP contract parameters read success")})),this.addressChangeReaction=Object(R.reaction)((function(){return o.cryptoWalletIntegrationStore.mainAddress}),function(){var e=Object(N.a)(D.a.mark((function e(t){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o.setDoneLoading(!1),e.next=3,o.reactToConnectedAddressChanged(t);case 3:o.monthlySubscriptionPlanService.readMonthlyRateInFullOrbs().then((function(e){return console.log({monthlyRate:e})})),o.monthlySubscriptionPlanService.readTier().then((function(e){return console.log({tier:e})})),o.setDoneLoading(!0);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),{fireImmediately:!0})}return Object(_.a)(e,[{key:"handlePromievent",value:function(){var e=Object(N.a)(D.a.mark((function e(t){var n,a,r=arguments;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:"A promivent",this.resetTxIndicators(),this.setTxPending(!0),console.log("Waiting for promievent of ".concat(n)),e.prev=4,e.next=7,t;case 7:return a=e.sent,console.log("Got Results for promievent of ".concat(n)),e.abrupt("return",a);case 12:if(e.prev=12,e.t0=e.catch(4),e.t0.code!==z.userRejectedRequest){e.next=18;break}this.setTxCanceled(!0),e.next=19;break;case 18:throw e.t0;case 19:return e.prev=19,this.setTxPending(!1),e.finish(19);case 22:case"end":return e.stop()}}),e,this,[[4,12,19,22]])})));return function(t){return e.apply(this,arguments)}}()},{key:"setAllowanceForStakingContract",value:function(){var e=Object(N.a)(D.a.mark((function e(t){var n,a,r=this;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=this.monthlySubscriptionPlanService.contractAddress,a=this.orbsTokenService.approve(n,t),this.handlePromievent(a,"setAllowanceForStakingContract").then((function(){return r.readAndSetMSPContractAllowance(r.cryptoWalletIntegrationStore.mainAddress)}));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createNewVc",value:function(){var e=Object(N.a)(D.a.mark((function e(t){var n,a,r,o;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.monthlySubscriptionPlanService.contractAddress,n=this.monthlySubscriptionPlanService.createANewVC(t),e.next=4,this.handlePromievent(n,"createNewVc").then((function(e){return console.log("Add handling of created vc"),console.log({val:e}),e}));case 4:return a=e.sent,e.next=7,this.subscriptionsService.readVcIdFromHistory(a.blockNumber,this.cryptoWalletIntegrationStore.mainAddress);case 7:return r=e.sent,o=r.vcId,this.manuallyReadAccountData(),e.abrupt("return",o);case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"extendExistingVcSubscription",value:function(){var e=Object(N.a)(D.a.mark((function e(t){var n;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.monthlySubscriptionPlanService.contractAddress,n=this.monthlySubscriptionPlanService.extendSubscription(t),e.next=4,this.handlePromievent(n,"extendExistingVcSubscription").then((function(e){return console.log({val:e}),e}));case 4:e.sent,this.manuallyReadAccountData();case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reactToConnectedAddressChanged",value:function(){var e=Object(N.a)(D.a.mark((function e(t){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=12;break}return this.setDefaultAccountAddress(t),this.cryptoWalletIntegrationStore.hasEventsSupport&&this.refreshAccountListeners(t),e.prev=3,e.next=6,this.readDataForAccount(t);case 6:e.next=12;break;case 8:e.prev=8,e.t0=e.catch(3),this.failLoadingProcess(e.t0),console.error("Error in reacting to address change in Orbs Account Store",e.t0);case 12:case"end":return e.stop()}}),e,this,[[3,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"setDefaultAccountAddress",value:function(e){this.monthlySubscriptionPlanService.setFromAccount(e),this.subscriptionsService.setFromAccount(e),this.orbsTokenService.setFromAccount(e)}},{key:"readContractParameters",value:function(){var e=Object(N.a)(D.a.mark((function e(){var t,n;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.monthlySubscriptionPlanService.readTier();case 3:return t=e.sent,e.next=6,this.monthlySubscriptionPlanService.readMonthlyRateInFullOrbs();case 6:n=e.sent,this.setMspContractParameters({tierName:t,monthlyRateInFullOrbs:n}),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(0),this.setContractParametersErrorLoading(!0),console.error("Error loading msp contract parameters"),console.error(e.t0);case 15:case"end":return e.stop()}}),e,this,[[0,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"manuallyReadAccountData",value:function(){var e=Object(N.a)(D.a.mark((function e(){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.readDataForAccount(this.cryptoWalletIntegrationStore.mainAddress);case 3:e.next=9;break;case 5:e.prev=5,e.t0=e.catch(0),this.failLoadingProcess(e.t0),console.error("Error in manually reading address data in Orbs Account Store",e.t0);case 9:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()},{key:"readDataForAccount",value:function(){var e=Object(N.a)(D.a.mark((function e(t){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.readAndSetMSPContractAllowance(t).catch((function(e){console.error("Error read-n-set MSP contract allowance: ".concat(e))}));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"readAndSetMSPContractAllowance",value:function(){var e=Object(N.a)(D.a.mark((function e(t){var n;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.orbsTokenService.readAllowance(t,this.monthlySubscriptionPlanService.contractAddress);case 2:n=e.sent,this.setMSPContractAllowance((a=n.toString(),parseInt(q.a.utils.fromWei(a,"ether"))));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"refreshAccountListeners",value:function(){var e=Object(N.a)(D.a.mark((function e(t){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.cancelAllCurrentSubscriptions();case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"cancelAllCurrentSubscriptions",value:function(){}},{key:"failLoadingProcess",value:function(e){this.setErrorLoading(!0),this.setDoneLoading(!0)}},{key:"resetTxIndicators",value:function(){this.setTxPending(!1),this.setTxHadError(!1),this.setTxCanceled(!1)}},{key:"setContractParametersDoneLoading",value:function(e){this.contractParametersDoneLoading=e}},{key:"setContractParametersErrorLoading",value:function(e){this.contractParametersErrorLoading=e}},{key:"setDoneLoading",value:function(e){this.doneLoading=e}},{key:"setErrorLoading",value:function(e){this.errorLoading=e}},{key:"setTxPending",value:function(e){this.txPending=e}},{key:"setTxCanceled",value:function(e){this.txCanceled=e}},{key:"setTxHadError",value:function(e){this.txHadError=e}},{key:"setMSPContractAllowance",value:function(e){this.allowanceToMSPContract=e}},{key:"setMspContractParameters",value:function(e){this.mspContractParameters=e}}]),e}(),w=Object(V.a)(C.prototype,"contractParametersDoneLoading",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),x=Object(V.a)(C.prototype,"contractParametersErrorLoading",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),j=Object(V.a)(C.prototype,"doneLoading",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),k=Object(V.a)(C.prototype,"errorLoading",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),P=Object(V.a)(C.prototype,"txPending",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),A=Object(V.a)(C.prototype,"txHadError",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),I=Object(V.a)(C.prototype,"txCanceled",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),T=Object(V.a)(C.prototype,"isGuardian",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),L=Object(V.a)(C.prototype,"mspContractParameters",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{monthlyRateInFullOrbs:0,tierName:""}}}),M=Object(V.a)(C.prototype,"allowanceToMSPContract",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Object(V.a)(C.prototype,"setContractParametersDoneLoading",[b],Object.getOwnPropertyDescriptor(C.prototype,"setContractParametersDoneLoading"),C.prototype),Object(V.a)(C.prototype,"setContractParametersErrorLoading",[h],Object.getOwnPropertyDescriptor(C.prototype,"setContractParametersErrorLoading"),C.prototype),Object(V.a)(C.prototype,"setDoneLoading",[f],Object.getOwnPropertyDescriptor(C.prototype,"setDoneLoading"),C.prototype),Object(V.a)(C.prototype,"setErrorLoading",[v],Object.getOwnPropertyDescriptor(C.prototype,"setErrorLoading"),C.prototype),Object(V.a)(C.prototype,"setTxPending",[g],Object.getOwnPropertyDescriptor(C.prototype,"setTxPending"),C.prototype),Object(V.a)(C.prototype,"setTxCanceled",[y],Object.getOwnPropertyDescriptor(C.prototype,"setTxCanceled"),C.prototype),Object(V.a)(C.prototype,"setTxHadError",[O],Object.getOwnPropertyDescriptor(C.prototype,"setTxHadError"),C.prototype),Object(V.a)(C.prototype,"setMSPContractAllowance",[E],Object.getOwnPropertyDescriptor(C.prototype,"setMSPContractAllowance"),C.prototype),Object(V.a)(C.prototype,"setMspContractParameters",[S],Object.getOwnPropertyDescriptor(C.prototype,"setMspContractParameters"),C.prototype),C);n(610);Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_ETHEREUM_NETWORK;var G=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_INFURA_KEY,J={urlBase:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).PUBLIC_BASE_PATH||"",network:"mainnet",minimalSubscriptionAmount:6200,decimals:18,v2contractsAddressesOverride:{},ETHEREUM_PROVIDER_WS:"wss://mainnet.infura.io/ws/v3/".concat(G),termsOfUseUrl:"https://www.orbs.com/vc-portal-terms-of-use/",privacyPolicyUrl:"https://www.orbs.com/vc-portal-privacy-policy/"},X=n(87);var $=n(52),Q=n(704),Z=n(137),ee=n(705),te=n(303),ne=n.n(te),ae=n(193),re=n.n(ae),oe=ne()(re()({palette:{type:"dark",primary:{main:"#09142c"},secondary:{main:"#74f6fd"},background:{default:"#0a0f25",paper:"#09142c"}},typography:{},overrides:{MuiPaper:{root:{}},MuiTypography:{colorPrimary:{}},MuiLink:{root:{}}}})),ce=n(60),ie=n(706),le=n(51);Object(R.configure)({enforceActions:"observed"});var se=Object(Q.a)((function(e){return{snackbarInfo:{backgroundColor:oe.palette.primary.dark,color:e.palette.getContrastText(oe.palette.primary.dark)}}})),ue=function(e){var t;return t=e?new q.a(e):new q.a(new q.a.providers.WebsocketProvider(J.ETHEREUM_PROVIDER_WS)),{cryptoWalletIntegrationService:new X.CryptoWalletConnectionService(e),subscriptionsService:new X.SubscriptionsService(t,J.v2contractsAddressesOverride.subscriptionContract),orbsTokenService:new X.OrbsTokenService(t,J.v2contractsAddressesOverride.erc20Contract),monthlySubscriptionPlanService:new X.MonthlySubscriptionPlanService(t,J.v2contractsAddressesOverride.monthlySubscriptionPlanDeployedInstance)}}(window.ethereum),pe=function(e,t,n,a){var r=new U(e);return{cryptoWalletIntegrationStore:r,orbsAccountStore:new Y(r,n,a,t)}}(ue.cryptoWalletIntegrationService,ue.subscriptionsService,ue.orbsTokenService,ue.monthlySubscriptionPlanService),de=r.a.memo((function(e){var t=se(),n=(e.children,e.appComponent);return r.a.createElement(r.a.Fragment,null,r.a.createElement(le.a,null,r.a.createElement($.b,Object.assign({},pe,ue),r.a.createElement(Z.b,{injectFirst:!0},r.a.createElement(ee.a,{theme:oe},r.a.createElement(ce.a,{maxSnack:3,classes:{variantInfo:t.snackbarInfo}},n,r.a.createElement(ie.a,null)))))))})),me=(n(669),n(44)),be=n(712),he=n(707),fe=n(713),ve=n(307),ge=n.n(ve),ye=n(711),Oe=n(16),Ee=n(725),Se=n(708),Ce=n(709),we=n(308),xe=n.n(we),je=[{translationKey:"New Virtual Chain",url:"/new_vc"},{translationKey:"Existing Virtual Chain",url:"/existing_vc"}],ke=function(){return Object(a.useMemo)((function(){return je.map((function(e){return{url:e.url,label:e.translationKey}}))}),[])},Pe=n(724),Ae=Object(Q.a)((function(e){return{menuButton:{},typography:{padding:e.spacing(2)},link:{width:"100%",color:"#ffffffb3",transition:"color 0.4s ease-in-out","&:hover":{color:Te}}}})),Ie=r.a.memo((function(e){var t=Ae(),n=ke();console.log("Render menu");var o=Object(Pe.a)(!1),c=o.setFalse,i=o.setTrue,l=o.value,s=r.a.useState(null),u=Object(Oe.a)(s,2),p=u[0],d=u[1],m=Object(a.useCallback)((function(e){i(),d(e.currentTarget)}),[i]),b=Object(a.useCallback)((function(){c(),d(null)}),[c]),h=Object(a.useMemo)((function(){return n.map((function(e,n){var a=e.label,o=e.url;return r.a.createElement(Ee.a,{onClick:function(){},key:a+o},r.a.createElement(he.a,{onClick:c,component:le.b,key:n,exact:!0,className:t.link,activeStyle:{color:Te},underline:"none",to:o,variant:"h6",noWrap:!0},a))}))}),[t.link,n,c]),f=l?"links-popover-menu":void 0;return r.a.createElement("div",null,r.a.createElement(Se.a,{onClick:m,className:t.menuButton,color:"inherit","aria-label":"menu"},r.a.createElement(xe.a,null)),r.a.createElement(Ce.a,{id:f,open:l,anchorEl:p,onClose:b,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"center"}},h))})),Te="#16faff",Le=Object(Q.a)((function(e){return{appBar:{height:"".concat(6,"rem"),paddingTop:"0.5rem",paddingBottom:"0.5rem",boxSizing:"border-box",zIndex:e.zIndex.drawer+1,padding:e.spacing(1)},logo:{width:70},nav:{display:"inherit",flexWrap:"wrap"},toolbar:{paddingRight:0,paddingLeft:0,margin:"auto",width:"90%",maxWidth:"90%",justifyContent:"space-between"},headerButtonsContainer:{display:"flex",alignItems:"center",justifyContent:"flex-end",margin:"auto",width:"90%",maxWidth:"90%"},displayInMetamaskButton:{marginRight:"".concat(e.spacing(3),"px")},movedDown:{paddingTop:48},link:{color:"#ffffffb3",marginLeft:30,transition:"color 0.4s ease-in-out","&:hover":{color:Te}}}})),Me=r.a.memo((function(e){var t=Le(),n=Object(me.a)(),o=Object(ye.a)(n.breakpoints.down("xs")),c=ke(),i=Object(a.useMemo)((function(){return c.map((function(e,n){var a=e.label,o=e.url;return r.a.createElement(he.a,{component:le.b,key:n,exact:!0,className:t.link,activeStyle:{color:Te},underline:"none",to:o,variant:"h6",noWrap:!0},a)}))}),[t.link,c]),l=Object(a.useMemo)((function(){return o?r.a.createElement(Ie,null):r.a.createElement("nav",{className:t.nav},i)}),[t.nav,i,o]);return r.a.createElement(be.a,{position:"fixed","data-testid":"header",className:t.appBar},r.a.createElement(fe.a,{className:t.toolbar},r.a.createElement(le.b,{to:"/"},r.a.createElement("img",{className:t.logo,src:ge.a,alt:"Orbs"})),l))})),Re=n(28),We=Object(Q.a)((function(e){return{page:{height:"100%",width:"fit-content",maxWidth:"100%",boxSizing:"border-box",paddingBottom:"2em"}}})),De=r.a.memo((function(e){var t=We(),n=e.children;return r.a.createElement("div",{className:t.page},n)})),Ne=n(150),Be=Object(Q.a)((function(e){return{contentFitter:{height:"100%",width:"fit-content",maxWidth:"100%"}}})),Fe=r.a.memo((function(e){var t=Be(),n=e.children,a=Object(Ne.a)(e,["children"]);return r.a.createElement("div",Object.assign({className:t.contentFitter},a),n)})),_e=n(105),Ve=n(720),Ue=n(714),ze=n(721),He=n(715),qe=n(722),Ke=n(149),Ye=n.n(Ke),Ge=n(153),Je=n(148),Xe=n.n(Je),$e=Object(Q.a)((function(e){return{textField:{"& label.Mui-focused":{color:"#f5f5f5"}},phaseInstructionLabel:{width:"max-content",marginBottom:"0.5rem",paddingBottom:"0.1rem"},forControlLabel:{width:"100%","& .MuiFormControlLabel-label":{width:"100%"}},checkBoxes:{},typographyAnimated:{transition:"height 5s, visibility 5s linear, background-color 2s",height:0,visibility:"hidden"},typographyAnimatedShow:{transition:"height 5s, visibility 5s linear, background-color 2s",height:"100%",visibility:"visible"},actionButton:{transition:"background-color 0.4s linear, color 0.2s linear","&:hover":{backgroundColor:e.palette.secondary.light,color:e.palette.getContrastText(e.palette.secondary.light)}}}})),Qe=r.a.memo((function(e){var t=$e(),n=e.subscribeNewVC,o=e.disableActionButtons,c=e.allowanceToMSPContract,i=e.setMSPContractAllowance,l=e.monthlyRateInFullOrbs,s=Object(ce.b)().enqueueSnackbar,u=Object(a.useState)(!1),p=Object(Oe.a)(u,2),d=(p[0],p[1]),m=Object(a.useState)(""),b=Object(Oe.a)(m,2),h=b[0],f=b[1],v=Object(a.useState)(1),g=Object(Oe.a)(v,2),y=g[0],O=g[1],E=Object(a.useState)(!1),S=Object(Oe.a)(E,2),C=(S[0],S[1],Object(a.useState)(!1)),w=Object(Oe.a)(C,2),x=w[0],j=w[1],k=Object(_e.a)(),P=k.register,A=k.handleSubmit,I=(k.errors,y*l),T=c>=I,L=Object(a.useCallback)((function(e){if(T){var t=X.MONTHLY_SUBSCRIPTION_PLAN_SERVICE_CONSTANTS.deploymentSubsets,a={name:e.name,amountInFullOrbs:I,deploymentSubset:e.runOnCanary?t.canary:t.main,isCertified:e.runOnlyOnCertifiedValidators};n(a)}else s("Before creating a new VC, please approve usage of your ORBS",{variant:"info",preventDuplicate:!0})}),[I,s,T,n]),M=Object(a.useCallback)((function(){i(I)}),[I,i]);return r.a.createElement("form",{onSubmit:A((function(e){return L(e)})),style:{maxWidth:"100%",width:"60ch"}},r.a.createElement(Ge.a,{className:t.phaseInstructionLabel,variant:"body1",color:"secondary"},"1) Fill in your VC details"),r.a.createElement(Ve.a,{autoComplete:"off",InputLabelProps:{style:{pointerEvents:"auto"}},name:"name",label:"VC name",title:"",variant:"outlined",value:h,onChange:function(e){return f(e.target.value)},required:!0,inputRef:P,fullWidth:!0,className:t.textField}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(Ve.a,{select:!0,SelectProps:{native:!0},name:"subscriptionOption",label:"Initial Subscription",title:"",variant:"outlined",value:y,onChange:function(e){d(!0),O(parseInt(e.target.value))},required:!0,inputRef:P,fullWidth:!0,className:t.textField},r.a.createElement("option",{value:1},"1 month - ",1*l," ORBS"),r.a.createElement("option",{value:3},"3 months - ",3*l," ORBS"),r.a.createElement("option",{value:6},"6 months - ",6*l," ORBS")),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(Ue.a,{className:t.forControlLabel,control:r.a.createElement(ze.a,{className:t.checkBoxes,checked:x,onChange:function(e){return j(e.target.checked)},name:"runOnCanary",inputRef:P}),label:r.a.createElement(Ze,{text:"Run unstable early releases",tooltipText:""})}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(Ge.a,{className:t.phaseInstructionLabel,variant:"body1",color:"secondary"},"2) Allow usage of your ORBS"),r.a.createElement(Ge.a,{variant:"caption"},"Current allowance : ",c.toLocaleString()," ORBS | Cost : ",I.toLocaleString()," ORBS"),r.a.createElement(He.a,{className:t.actionButton,variant:"outlined",fullWidth:!0,onClick:M,disabled:o||T,startIcon:T?r.a.createElement(Xe.a,null):null},T?"Sufficient allowance":"Approve usage of your ORBS"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(Ge.a,{className:t.phaseInstructionLabel,variant:"body1",color:"secondary"},"3) Create your new Virtual chain"),r.a.createElement(He.a,{className:t.actionButton,variant:"outlined",fullWidth:!0,type:"submit",disabled:o},"Create new VC"))})),Ze=r.a.memo((function(e){var t=e.text,n=e.tooltipText;return r.a.createElement("div",{style:{width:"100%",display:"flex",alignItems:"center",justifyContent:"space-between"}},t,r.a.createElement(qe.a,{title:n},r.a.createElement(Ye.a,{style:{marginInlineStart:"0.5rem"}})))}));function et(){var e=r.a.useContext($.a);if(!e)throw new Error("Tried to use services before initialising them");return e}function tt(){return r.a.useContext($.a)}function nt(){return tt().orbsAccountStore}var at=n(723),rt=n(716),ot=n(717),ct=n(718),it=n(719),lt=n(310),st=n.n(lt)()((function(e){return{dialogPaper:{"& .MuiDialog-paper":{border:"4px double ".concat(e.palette.secondary.main),boxShadow:"none"}}}})),ut=r.a.memo((function(e){var t=st(),n=e.open,a=e.onAccept,o=e.onCancel,c=e.title,i=e.contentText,l=e.acceptText,s=e.cancelText;Object(me.a)();return r.a.createElement(at.a,{className:t.dialogPaper,fullScreen:!1,open:n,onClose:o,"aria-labelledby":"action-confirmation-dialog",maxWidth:"xs",style:{}},r.a.createElement(rt.a,{id:"action-confirmation-dialog-title"},c),r.a.createElement(ot.a,null,r.a.createElement(ct.a,null,i)),r.a.createElement(it.a,null,r.a.createElement(He.a,{autoFocus:!0,onClick:o,color:"secondary",variant:"contained"},s||"Cancel"),r.a.createElement(He.a,{onClick:a,color:"secondary",autoFocus:!0,variant:"contained"},l||"Accept")))})),pt="/new_vc",dt="/existing_vc",mt="/recover_vc",bt="/vc_created",ht="/vc_extended",ft=Object($.c)((function(e){var t=nt(),n=Object(Re.f)(),o=Object(a.useState)(!1),c=Object(Oe.a)(o,2),i=(c[0],c[1],Object(a.useState)(!1)),l=Object(Oe.a)(i,2),s=l[0],u=l[1],p=Object(a.useState)({title:"",content:""}),d=Object(Oe.a)(p,2),m=d[0],b=d[1],h=Object(a.useState)((function(){return function(){return console.log("Accepted")}})),f=Object(Oe.a)(h,2),v=f[0],g=f[1],y=(et().monthlySubscriptionPlanService,Object(ce.b)().enqueueSnackbar),O=Object(a.useCallback)((function(e){t.setAllowanceForStakingContract(K(e))}),[t]),E=Object(a.useCallback)(function(){var e=Object(N.a)(D.a.mark((function e(a){var r;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.createNewVc(a);case 3:r=e.sent,y("VC Created !",{variant:"success"}),n.push("".concat(bt,"/").concat(r)),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0),y("TX Error !",{variant:"error"});case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),[y,n,t]),S=Object(a.useCallback)(function(){var e=Object(N.a)(D.a.mark((function e(t){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t),b({title:"Create new virtual chain ".concat(t.name),content:'Please click "Create" and accept the transaction.',acceptText:"Create",onCancelMessage:"VC creation canceled"}),u(!0),g((function(){return function(){return E(t)}}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[E]),C=Object(a.useCallback)((function(e){b({title:"Set allowance of ".concat(e," ORBS"),content:'Please click "Allow" and accept the transaction.',acceptText:"Allow",onCancelMessage:"Action canceled"}),u(!0),g((function(){return function(){return O(e)}}))}),[O]);return r.a.createElement(De,null,r.a.createElement(Fe,null,r.a.createElement(Qe,{subscribeNewVC:S,allowanceToMSPContract:t.allowanceToMSPContract,setMSPContractAllowance:C,monthlyRateInFullOrbs:t.mspContractParameters.monthlyRateInFullOrbs}),r.a.createElement(ut,{open:s,onAccept:function(){u(!1),v()},onCancel:function(){u(!1),m.onCancelMessage&&y(m.onCancelMessage,{variant:"info",preventDuplicate:!0})},title:m.title,contentText:m.content})))})),vt=Object(Q.a)((function(e){return{textField:{"& label.Mui-focused":{color:"#f5f5f5"}},phaseInstructionLabel:{width:"max-content",marginBottom:"0.5rem",paddingBottom:"0.1rem"},forControlLabel:{width:"100%","& .MuiFormControlLabel-label":{width:"100%"}},checkBoxes:{},typographyAnimated:{transition:"height 5s, visibility 5s linear, background-color 2s",height:0,visibility:"hidden"},typographyAnimatedShow:{transition:"height 5s, visibility 5s linear, background-color 2s",height:"100%",visibility:"visible"},actionButton:{transition:"background-color 0.4s linear, color 0.2s linear","&:hover":{backgroundColor:e.palette.secondary.light,color:e.palette.getContrastText(e.palette.secondary.light)}}}})),gt=r.a.memo((function(e){var t=vt(),n=e.actionButtonText,o=e.onActionClick,c=Object(a.useState)(""),i=Object(Oe.a)(c,2),l=i[0],s=i[1],u=Object(_e.a)(),p=u.register,d=u.handleSubmit,m=(u.errors,Object(a.useCallback)((function(e){o(e.vcId)}),[o]));return r.a.createElement("form",{onSubmit:d((function(e){return m(e)})),style:{maxWidth:"100%",width:"60ch"}},r.a.createElement(Ge.a,{className:t.phaseInstructionLabel,variant:"body1",color:"secondary"},"Please enter your VC Id"),r.a.createElement(Ve.a,{autoComplete:"off",InputLabelProps:{style:{pointerEvents:"auto"}},name:"vcId",label:"Virtual chain ID",title:"",variant:"outlined",value:l,onChange:function(e){return s(e.target.value)},required:!0,inputRef:p,fullWidth:!0,className:t.textField}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(He.a,{className:t.actionButton,variant:"outlined",fullWidth:!0,type:"submit"},n))})),yt=n(311),Ot=n.n(yt),Et=Object(Q.a)((function(e){return{textField:{"& label.Mui-focused":{color:"#f5f5f5"}},phaseInstructionLabel:{width:"max-content",marginBottom:"0.5rem",paddingBottom:"0.1rem"},forControlLabel:{width:"100%","& .MuiFormControlLabel-label":{width:"100%"}},checkBoxes:{},typographyAnimated:{transition:"height 5s, visibility 5s linear, background-color 2s",height:0,visibility:"hidden"},typographyAnimatedShow:{transition:"height 5s, visibility 5s linear, background-color 2s",height:"100%",visibility:"visible"},actionButton:{transition:"background-color 0.4s linear, color 0.2s linear","&:hover":{backgroundColor:e.palette.secondary.light,color:e.palette.getContrastText(e.palette.secondary.light)}}}})),St=r.a.memo((function(e){var t=Et(),n=e.paidUntil,a=e.vcId,o=e.vcName,c=e.deploymentSubset;return console.log({paidUntil:n}),r.a.createElement("form",{style:{display:"flex",flexDirection:"column",alignItems:"center",maxWidth:"100%",width:"60ch",textAlign:"center"}},r.a.createElement(Ge.a,{className:t.phaseInstructionLabel,variant:"h5",color:"secondary"},"Virtual chain ID"),r.a.createElement(Ge.a,{className:t.phaseInstructionLabel,variant:"h6"},a),r.a.createElement(Ge.a,{className:t.phaseInstructionLabel,variant:"h5",color:"secondary"},"Virtual chain Name"),r.a.createElement(Ge.a,{className:t.phaseInstructionLabel,variant:"h6"},o),r.a.createElement(Ge.a,{className:t.phaseInstructionLabel,variant:"h5",color:"secondary"},"Deployment Subset"),r.a.createElement(Ge.a,{className:t.phaseInstructionLabel,variant:"h6"},c),r.a.createElement(Ge.a,{className:t.phaseInstructionLabel,variant:"h5",color:"secondary"},"Paid Until"),r.a.createElement(Ge.a,{className:t.phaseInstructionLabel,variant:"h6"},Ot.a.unix(n).format("MMM DD, YYYY")))})),Ct=Object(Q.a)((function(e){return{textField:{"& label.Mui-focused":{color:"#f5f5f5"}},phaseInstructionLabel:{width:"max-content",marginBottom:"0.5rem",paddingBottom:"0.1rem"},forControlLabel:{width:"100%","& .MuiFormControlLabel-label":{width:"100%"}},checkBoxes:{},typographyAnimated:{transition:"height 5s, visibility 5s linear, background-color 2s",height:0,visibility:"hidden"},typographyAnimatedShow:{transition:"height 5s, visibility 5s linear, background-color 2s",height:"100%",visibility:"visible"},actionButton:{transition:"background-color 0.4s linear, color 0.2s linear","&:hover":{backgroundColor:e.palette.secondary.light,color:e.palette.getContrastText(e.palette.secondary.light)}}}})),wt=r.a.memo((function(e){var t=Ct(),n=e.extendVcSubscription,o=e.disableActionButtons,c=e.allowanceToMSPContract,i=e.setMSPContractAllowance,l=e.monthlyRateInFullOrbs,s=Object(ce.b)().enqueueSnackbar,u=Object(a.useState)(!1),p=Object(Oe.a)(u,2),d=(p[0],p[1]),m=Object(a.useState)(""),b=Object(Oe.a)(m,2),h=(b[0],b[1],Object(a.useState)(1)),f=Object(Oe.a)(h,2),v=f[0],g=f[1],y=Object(a.useState)(!1),O=Object(Oe.a)(y,2),E=(O[0],O[1],Object(a.useState)(!1)),S=Object(Oe.a)(E,2),C=(S[0],S[1],Object(_e.a)()),w=C.register,x=C.handleSubmit,j=(C.errors,v*l),k=c>=j,P=Object(a.useCallback)((function(e){k?n(j):s("Before extending your VC subscription, please approve usage of your ORBS",{variant:"info",preventDuplicate:!0})}),[k,j,n,s]),A=Object(a.useCallback)((function(){i(j)}),[j,i]);return r.a.createElement("form",{onSubmit:x((function(e){return P(e)})),style:{maxWidth:"100%",width:"60ch"}},r.a.createElement(Ge.a,{className:t.phaseInstructionLabel,variant:"body1",color:"secondary"},"1) Select how many months to extend by"),r.a.createElement(Ve.a,{select:!0,SelectProps:{native:!0},name:"subscriptionOption",label:"Initial Subscription",title:"",variant:"outlined",value:v,onChange:function(e){d(!0),g(parseInt(e.target.value))},required:!0,inputRef:w,fullWidth:!0,className:t.textField},r.a.createElement("option",{value:1},"1 month extension - ",1*l," ORBS"),r.a.createElement("option",{value:3},"3 months extension - ",3*l," ORBS"),r.a.createElement("option",{value:6},"6 months extension - ",6*l," ORBS")),r.a.createElement(Ge.a,{className:t.phaseInstructionLabel,variant:"body1",color:"secondary"},"2) Allow usage of your ORBS"),r.a.createElement(Ge.a,{variant:"caption"},"Current allowance : ",c,"/",j),r.a.createElement(He.a,{className:t.actionButton,variant:"outlined",fullWidth:!0,onClick:A,disabled:o||k,startIcon:k?r.a.createElement(Xe.a,null):null},k?"Sufficient allowance":"Approve usage of your ORBS"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(Ge.a,{className:t.phaseInstructionLabel,variant:"body1",color:"secondary"},"3) Extend your subscription"),r.a.createElement(He.a,{className:t.actionButton,variant:"outlined",fullWidth:!0,type:"submit",disabled:o},"Extend VC subscription"))}));r.a.memo((function(e){var t=e.text,n=e.tooltipText;return r.a.createElement("div",{style:{width:"100%",display:"flex",alignItems:"center",justifyContent:"space-between"}},t,r.a.createElement(qe.a,{title:n},r.a.createElement(Ye.a,{style:{marginInlineStart:"0.5rem"}})))}));function xt(e){var t=Object(a.useState)(!0),n=Object(Oe.a)(t,2),r=n[0],o=n[1],c=Object(a.useState)(!1),i=Object(Oe.a)(c,2),l=i[0],s=i[1],u=Object(a.useState)({id:"",name:"",deploymentSubset:"",payedUntil:0}),p=Object(Oe.a)(u,2),d=p[0],m=p[1],b=et().subscriptionsService,h=Object(a.useCallback)(function(){var e=Object(N.a)(D.a.mark((function e(t){var n,a;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.readVcData(t);case 2:return n=e.sent,a={id:t,name:n.name,payedUntil:parseInt(n.expiresAt),deploymentSubset:n.deploymentSubset},e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[b]);return Object(a.useEffect)((function(){o(!0),s(!1),h(e).then((function(e){o(!1),m(e)})).catch((function(){o(!1),s(!0)}))}),[h,e]),{errorFindingVc:l,isLoading:r,vcData:d}}var jt,kt=Object($.c)((function(e){var t=nt(),n=Object(a.useState)(""),o=Object(Oe.a)(n,2),c=o[0],i=o[1],l=Object(ce.b)().enqueueSnackbar,s=xt(c),u=s.vcData,p=s.errorFindingVc,d=s.isLoading,m=Object(Re.f)(),b=Object(a.useState)(!1),h=Object(Oe.a)(b,2),f=h[0],v=h[1],g=Object(a.useState)((function(){return function(){return console.log("Accepted")}})),y=Object(Oe.a)(g,2),O=y[0],E=y[1],S=Object(a.useState)({title:"",content:""}),C=Object(Oe.a)(S,2),w=C[0],x=C[1],j=Object(a.useCallback)((function(e){i(e)}),[]),k=Object(a.useCallback)((function(e){t.setAllowanceForStakingContract(K(e))}),[t]),P=Object(a.useCallback)((function(e){x({title:"Set allowance of ".concat(e," ORBS"),content:'Please click "Allow" and accept the transaction.',acceptText:"Allow",onCancelMessage:"Action canceled"}),v(!0),E((function(){return function(){return k(e)}}))}),[k]),A=Object(a.useCallback)(function(){var e=Object(N.a)(D.a.mark((function e(n){var a;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={amountInFullOrbs:n,vcId:c},e.prev=1,e.next=4,t.extendExistingVcSubscription(a);case 4:l("Subscription extended !",{variant:"success"}),m.push("".concat(ht,"/").concat(c)),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.error(e.t0),l("TX Error !",{variant:"error"});case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),[l,m,t,c]),I=0===c.length,T=Object(a.useMemo)((function(){return I?null:d?r.a.createElement(Ge.a,null,"Loading..."):p?r.a.createElement(Ge.a,{color:"error"},"Error finding Virtual Chain ",c):r.a.createElement(r.a.Fragment,null,r.a.createElement("br",null),r.a.createElement(St,{paidUntil:u.payedUntil,vcName:u.name,vcId:u.id,deploymentSubset:u.deploymentSubset}),r.a.createElement(wt,{monthlyRateInFullOrbs:t.mspContractParameters.monthlyRateInFullOrbs,setMSPContractAllowance:P,allowanceToMSPContract:t.allowanceToMSPContract,extendVcSubscription:A}))}),[p,A,d,t.allowanceToMSPContract,t.mspContractParameters.monthlyRateInFullOrbs,I,P,u.deploymentSubset,u.id,u.name,u.payedUntil,c]);return r.a.createElement(De,null,I&&r.a.createElement(gt,{onActionClick:j,actionButtonText:"Open"}),T,r.a.createElement(ut,{open:f,onAccept:function(){v(!1),O()},onCancel:function(){v(!1),w.onCancelMessage&&l(w.onCancelMessage,{variant:"info",preventDuplicate:!0})},title:w.title,contentText:w.content}))})),Pt=r.a.memo((function(e){return r.a.createElement(De,null,"Recover VC Page")})),At=r.a.memo((function(e){var t=Object(me.a)(),n=Object(Re.g)().vcId,a=xt(n),o=a.vcData,c=a.errorFindingVc;return a.isLoading?r.a.createElement(De,null,r.a.createElement(Fe,{style:{display:"flex",flexDirection:"column",alignItems:"center"}},r.a.createElement(Ge.a,{variant:"h3",style:{color:t.palette.error.main}},"Loading..."))):c?r.a.createElement(De,null,r.a.createElement(Fe,{style:{display:"flex",flexDirection:"column",alignItems:"center"}},r.a.createElement(Ge.a,{variant:"h3",style:{color:t.palette.error.main}},"Error finding Virtual chain"),r.a.createElement(Ge.a,{variant:"h3"},n))):r.a.createElement(De,null,r.a.createElement(Fe,null,r.a.createElement("div",{style:{padding:"0.5rem",display:"flex",flexDirection:"column",alignItems:"center",textAlign:"center",marginRight:"auto",marginLeft:"auto"}},r.a.createElement(St,{vcId:n,vcName:o.name,paidUntil:o.payedUntil,deploymentSubset:o.deploymentSubset})," "),r.a.createElement("div",{style:{padding:"0.5rem",width:"fit-content",display:"flex",flexDirection:"column",alignItems:"center",textAlign:"center"}},r.a.createElement(Ge.a,{variant:"h4",color:"secondary",style:{fontWeight:"bold"}},"Important:"),r.a.createElement(Ge.a,{variant:"h4"},"Please keep the virtual Chain ID for future use."))))})),It=r.a.memo((function(e){var t=Object(me.a)(),n=Object(Re.g)().vcId,a=xt(n),o=a.vcData,c=a.errorFindingVc;return a.isLoading?r.a.createElement(De,null,r.a.createElement(Fe,{style:{display:"flex",flexDirection:"column",alignItems:"center"}},r.a.createElement(Ge.a,{variant:"h3",style:{color:t.palette.error.main}},"Loading..."))):c?r.a.createElement(De,null,r.a.createElement(Fe,{style:{display:"flex",flexDirection:"column",alignItems:"center"}},r.a.createElement(Ge.a,{variant:"h3",style:{color:t.palette.error.main}},"Error finding Virtual chain"),r.a.createElement(Ge.a,{variant:"h3"},n))):r.a.createElement(De,null,r.a.createElement(Fe,null,r.a.createElement("div",{style:{padding:"0.5rem",width:"fit-content",display:"flex",flexDirection:"column",alignItems:"center",textAlign:"center"}},r.a.createElement(Ge.a,{variant:"h4"},"Vc subscription successfully extended !")),r.a.createElement("div",{style:{padding:"0.5rem",display:"flex",flexDirection:"column",alignItems:"center",textAlign:"center",marginRight:"auto",marginLeft:"auto"}},r.a.createElement(St,{vcId:n,vcName:o.name,paidUntil:o.payedUntil,deploymentSubset:o.deploymentSubset}))))})),Tt=n(312),Lt=Object(Q.a)((function(e){return{link:{color:e.palette.secondary.light,"&:hover":{color:e.palette.secondary.main}}}})),Mt=r.a.memo((function(e){var t=Lt(),n=e.text,a=e.href,o=Object(Ne.a)(e,["text","href"]);return r.a.createElement("a",Object.assign({className:t.link,href:a||"",target:"_blank",rel:"noopener noreferrer"},o),n)})),Rt=Object(Q.a)((function(e){return{noEthereumProviderSection:{display:"flex",flexDirection:"column",alignItems:"center",textAlign:"center",padding:"2em",backgroundColor:"rgba(0,0,0, 0.2)",borderRadius:"5%",width:"fit-content",maxWidth:"100%",boxSizing:"border-box"}}})),Wt=r.a.memo((function(e){var t=Rt(),n=e.walletConnectionPhase,a=e.actionFunction,o=(e.pressedOnInstall,Object(Pe.a)(!1)),c="connect"===n,i=!c||o.value,l="install"===n,s=l?"No Ethereum provider detected":"Please connect",u=l?"you should install MetaMask and refresh the page":"To begin, connect your wallet",p="install"===n?"Install":"Connect",d=Object(Tt.renderToString)(r.a.createElement(ee.a,{theme:oe},r.a.createElement(Ge.a,null,"I agree to the"," ",r.a.createElement(Mt,{href:J.termsOfUseUrl,text:"Terms of Use"})," and"," ",r.a.createElement(Mt,{href:J.privacyPolicyUrl,text:"Privacy Policy"}))));return r.a.createElement("div",{className:t.noEthereumProviderSection},r.a.createElement(Ge.a,{style:{marginBottom:"0.5rem"},variant:"h4"},s),r.a.createElement(Ge.a,{style:{marginBottom:"1rem"}},u),r.a.createElement(He.a,{variant:"outlined",onClick:a,disabled:!i},p),c&&r.a.createElement(Ue.a,{style:{marginTop:"0.5rem"},control:r.a.createElement(ze.a,{checked:o.value,onChange:function(e){return o.setValue(e.target.checked)},name:"legalTicker"}),label:r.a.createElement(Ge.a,{dangerouslySetInnerHTML:{__html:d}})}))})),Dt=Object(Q.a)((function(e){return{appMain:{height:"100%",maxWidth:"90%",boxSizing:"border-box",padding:e.spacing(2)},headerSeparator:{height:"".concat(6,"rem")},mainWrapper:{backgroundColor:"#06142e",backgroundRepeat:"repeat-y",backgroundImage:"url(https://www.orbs.com/wp-content/uploads/2019/02/technology-background1.png)",backgroundAttachment:"scroll",backgroundPosition:"top center",minHeight:"calc(100% - ".concat(6,"rem)"),display:"flex",flexDirection:"column",alignItems:"center"},drawer:{width:240,flexShrink:0},drawerPaper:{width:240},drawerContainer:{overflow:"auto"}}})),Nt=Object($.c)((function(){var e=Dt(),t=Object(me.a)();console.log(t.palette.secondary);var n=tt().cryptoWalletIntegrationStore,o=n.isConnectedToWallet;console.log({isConnected:o});var c=Object(a.useMemo)((function(){return o?r.a.createElement(Re.c,null,r.a.createElement(Re.a,{exact:!0,path:pt,component:ft}),r.a.createElement(Re.a,{exact:!0,path:dt,component:kt}),r.a.createElement(Re.a,{exact:!0,path:mt,component:Pt}),r.a.createElement(Re.a,{path:"".concat(bt,"/:vcId"),component:At}),r.a.createElement(Re.a,{path:"".concat(ht,"/:vcId"),component:It}),r.a.createElement(Re.a,{path:"/",component:ft})):r.a.createElement(De,null,r.a.createElement(Wt,{walletConnectionPhase:"connect",actionFunction:function(){return n.askToConnect()}}))}),[n,o]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(Me,null),r.a.createElement("div",{className:e.headerSeparator}),r.a.createElement("div",{className:e.mainWrapper},r.a.createElement("main",{className:e.appMain},c)))})),Bt=Object(Q.a)((function(e){return{appMain:{height:"100%",maxWidth:"90%",boxSizing:"border-box",padding:e.spacing(2)},mainWrapper:{backgroundColor:"#06142e",backgroundRepeat:"repeat-y",backgroundImage:"url(https://www.orbs.com/wp-content/uploads/2019/02/technology-background1.png)",backgroundAttachment:"scroll",backgroundPosition:"top center",minHeight:"100%",display:"flex",flexDirection:"column",alignItems:"center"}}})),Ft=r.a.memo((function(e){var t=Bt(),n=Object(Pe.a)(!1),o=Object(a.useCallback)((function(){window.open("https://metamask.io/","_blank"),n.setTrue()}),[n]);return r.a.createElement("div",{className:t.mainWrapper},r.a.createElement("main",{className:t.appMain},r.a.createElement(De,null,r.a.createElement(Wt,{actionFunction:o,pressedOnInstall:n.value,walletConnectionPhase:"install"}))))}));jt=!!window.ethereum?r.a.createElement(Nt,null):r.a.createElement(Ft,null),c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(de,{appComponent:jt})),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[327,1,2]]]);
//# sourceMappingURL=main.1a9fa917.chunk.js.map